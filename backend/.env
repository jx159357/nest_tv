# 数据库配置
DB_TYPE=mysql
DB_HOST=localhost
DB_PORT=3306
DB_USERNAME=root
DB_PASSWORD=jx159357
DB_DATABASE=nest_tv

# 数据库连接池优化配置
DB_CONNECTION_LIMIT=25
DB_RETRY_ATTEMPTS=5
DB_RETRY_DELAY=5000
DB_MAX_QUERY_TIME=3000
DB_SLOW_QUERY_LIMIT=500
DB_SSL=false
DB_SYNCHRONIZE=false
DB_LOGGING=false

# 生产环境数据库性能优化
DB_ACQUIRE_TIMEOUT=60000
DB_QUERY_TIMEOUT=60000
DB_QUEUE_LIMIT=30
DB_POOL_MIN=5
DB_POOL_MAX=50
DB_IDLE_TIMEOUT=300000
DB_EVICT_INTERVAL=10000
DB_CONNECTION_CHECK_TIMEOUT=30000

# 代理池配置 - 生产环境设置
PROXY_POOL_ENABLED=true
MAX_PROXIES=50
MIN_WORKING_PROXIES=3
PROXY_TEST_URL=https://httpbin.org/ip
PROXY_TEST_TIMEOUT=5000
PROXY_VALIDATION_INTERVAL=600000
PROXY_MAX_FAILURE_COUNT=5
PROXY_RETRY_ATTEMPTS=3
PROXY_ROTATION_STRATEGY=round-robin
PROXY_SWITCH_AFTER=5
PROXY_FAILURE_THRESHOLD=5
PROXY_RESPONSE_TIME_CACHE=600000
PROXY_LIST_CACHE=1800000
PROXY_MONITORING_ENABLED=true
PROXY_LOG_LEVEL=warn
PROXY_STATISTICS_INTERVAL=300000

# JWT安全配置增强
JWT_AUDIENCE=nest-tv-client
JWT_ISSUER=nest-tv-server
JWT_REFRESH_EXPIRATION=604800
JWT_SECRET_ROTATION_ENABLED=true

# 定时任务配置
ENABLE_SCHEDULED_CRAWL=false
SCHEDULE_CRAWL_INTERVAL=6h
CLEANUP_INTERVAL=24h

# 监控和健康检查
ENABLE_HEALTH_CHECK=true
HEALTH_CHECK_INTERVAL=30000
ENABLE_METRICS=false
METRICS_INTERVAL=60000

# 缓存配置
CACHE_TTL=3600
CACHE_MAX_SIZE=1000
ENABLE_CACHE_WARMUP=false

# Redis配置
REDIS_HOST=localhost
REDIS_PORT=6379
REDIS_PASSWORD=

# JWT配置
JWT_SECRET=nest-tv-super-secret-jwt-key-2025-secure-production-change-this-in-production
JWT_EXPIRES_IN=24h

# 应用配置
PORT=3334
NODE_ENV=production

# 数据初始化配置 - 仅开发环境使用
ALLOW_INIT_DEFAULT_DATA=false

# 生产环境安全配置
BCRYPT_ROUNDS=12
JWT_SECRET_ROTATION_ENABLED=true
SESSION_SECRET=your-session-secret-here
ALLOWED_ORIGINS=https://yourdomain.com,https://www.yourdomain.com
RATE_LIMIT_WINDOW_MS=900000
RATE_LIMIT_MAX_REQUESTS=100

# 日志配置 - 生产环境
LOG_LEVEL=warn
LOG_TO_FILE=true
LOG_FILE_PATH=./logs/app.log
LOG_MAX_SIZE=10MB
LOG_MAX_FILES=5
LOG_ROTATION=true
LOG_ACCESS_ENABLED=true
LOG_PERFORMANCE_ENABLED=false
LOG_SECURITY_ENABLED=true
CLEANUP_INTERVAL=24h
LOG_RETENTION_DAYS=30

# 安全配置
ENABLE_CSP=true
ENABLE_RATE_LIMIT=true
ENABLE_HELMET_SECURITY=true
ENABLE_REQUEST_VALIDATION=true