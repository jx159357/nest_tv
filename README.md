# ğŸ¬ NestTV å½±è§†ç®¡ç†ç³»ç»Ÿ

ä¸€ä¸ªåŸºäº NestJS + Vue3 çš„ç°ä»£åŒ–å½±è§†èµ„æºç®¡ç†ç³»ç»Ÿï¼Œæ”¯æŒç”¨æˆ·ç®¡ç†ã€å½±è§†èµ„æºçˆ¬å–ã€å¤šæºæ’­æ”¾ã€è§‚çœ‹å†å²ç­‰åŠŸèƒ½ã€‚

## ğŸš€ åŠŸèƒ½ç‰¹æ€§

### ğŸ” ç”¨æˆ·ç³»ç»Ÿ
- âœ… ç”¨æˆ·æ³¨å†Œå’Œç™»å½•
- âœ… JWT èº«ä»½è®¤è¯
- âœ… å¯†ç åŠ å¯†å­˜å‚¨
- âœ… ç”¨æˆ·ä¿¡æ¯ç®¡ç†
- âœ… è§’è‰²æƒé™ç®¡ç†
- âœ… ä¸ªæ€§åŒ–è®¾ç½®

### ğŸ“º å½±è§†èµ„æºç®¡ç†
- âœ… å½±è§†ä¿¡æ¯çˆ¬å–
- âœ… èµ„æºå­˜å‚¨å’Œåˆ†ç±»
- âœ… æ”¯æŒå¤šç§å½±è§†ç±»å‹ï¼ˆç”µå½±ã€ç”µè§†å‰§ã€ç»¼è‰ºã€åŠ¨æ¼«ã€çºªå½•ç‰‡ï¼‰
- âœ… è¯„åˆ†å’Œæ”¶è—åŠŸèƒ½
- âœ… æ™ºèƒ½æœç´¢å’Œç­›é€‰

### ğŸ¥ æ’­æ”¾æºç®¡ç†
- âœ… å¤šæ’­æ”¾æºèšåˆ
- âœ… æ’­æ”¾æºéªŒè¯å’Œä¼˜å…ˆçº§ç®¡ç†
- âœ… æ”¯æŒåœ¨çº¿æ’­æ”¾ã€ä¸‹è½½ã€æµåª’ä½“ç­‰å¤šç§æ’­æ”¾æ–¹å¼
- âœ… æ’­æ”¾è´¨é‡é€‰æ‹©
- âœ… å­—å¹•æ”¯æŒ

### ğŸ“Š è§‚çœ‹å†å²
- âœ… è§‚çœ‹è¿›åº¦è®°å½•
- âœ… æ’­æ”¾å†å²ç®¡ç†
- âœ… ç»§ç»­è§‚çœ‹åŠŸèƒ½
- âœ… è§‚çœ‹ç»Ÿè®¡åŠŸèƒ½
- âœ… ä¸ªæ€§åŒ–æ¨è

### ğŸŒ å‰ç«¯ç•Œé¢
- âœ… ç°ä»£åŒ– Vue3 + Vite å“åº”å¼ç•Œé¢
- âœ… UnoCSS åŸå­åŒ– CSS æ¡†æ¶
- âœ… å®Œæ•´çš„å›½é™…åŒ–æ”¯æŒï¼ˆä¸­è‹±æ–‡ï¼‰
- âœ… é¦–é¡µã€æœç´¢ã€åˆ†ç±»æµè§ˆ
- âœ… è¯¦æƒ…é¡µå’Œæ’­æ”¾å™¨
- âœ… æ’­æ”¾æºç®¡ç†ç•Œé¢
- âœ… çˆ¬è™«ç®¡ç†ç•Œé¢
- âœ… ç”¨æˆ·ä¸­å¿ƒå’Œä¸ªäººè®¾ç½®

### ğŸ›¡ï¸ ä¼ä¸šçº§ç‰¹æ€§
- âœ… å®Œæ•´çš„è®¤è¯å’Œæˆæƒä½“ç³»
- âœ… æƒé™æ§åˆ¶å’Œè§’è‰²ç®¡ç†
- âœ… é€Ÿç‡é™åˆ¶å’Œå®‰å…¨é˜²æŠ¤
- âœ… å®Œæ•´çš„æ—¥å¿—è®°å½•å’Œç›‘æ§
- âœ… ä¸“ä¸šçš„ API æ–‡æ¡£ï¼ˆSwaggerï¼‰
- âœ… é”™è¯¯å¤„ç†å’Œå¼‚å¸¸ç®¡ç†
- âœ… ç¼“å­˜å’Œæ€§èƒ½ä¼˜åŒ–
- âœ… å®‰å…¨å¤´éƒ¨å’Œ CSP ç­–ç•¥

## ğŸ—ï¸ æŠ€æœ¯æ¶æ„

### åç«¯æŠ€æœ¯æ ˆ
- **æ¡†æ¶**: NestJS 11.x + TypeScript
- **æ•°æ®åº“**: MySQL 8.0 + TypeORM
- **ç¼“å­˜**: Redis 6.x
- **è®¤è¯**: JWT + Passport.js
- **åŠ å¯†**: bcrypt
- **æ–‡æ¡£**: Swagger/OpenAPI
- **æ—¥å¿—**: Winston
- **éªŒè¯**: class-validator + class-transformer

### å‰ç«¯æŠ€æœ¯æ ˆ
- **æ¡†æ¶**: Vue 3.x + TypeScript
- **æ„å»ºå·¥å…·**: Vite 5.x
- **æ ·å¼**: UnoCSS + TailwindCSS
- **çŠ¶æ€ç®¡ç†**: Pinia
- **è·¯ç”±**: Vue Router 4
- **HTTPå®¢æˆ·ç«¯**: Axios
- **å›½é™…åŒ–**: Vue I18n
- **UIç»„ä»¶**: è‡ªå®šä¹‰ç»„ä»¶åº“

### ä¼ä¸šçº§ç»„ä»¶
- **å®ˆå«**: æƒé™å®ˆå«ã€è§’è‰²å®ˆå«ã€é€Ÿç‡é™åˆ¶å®ˆå«ã€æ¡ä»¶å®ˆå«ç­‰
- **æ‹¦æˆªå™¨**: æ—¥å¿—æ‹¦æˆªå™¨ã€å“åº”æ‹¦æˆªå™¨ã€ç¼“å­˜æ‹¦æˆªå™¨ç­‰
- **ä¸­é—´ä»¶**: å®‰å…¨å¤´éƒ¨ä¸­é—´ä»¶ã€è¯·æ±‚IDä¸­é—´ä»¶ç­‰
- **ç®¡é“**: æ•°æ®éªŒè¯ç®¡é“ã€åˆ†é¡µç®¡é“ã€æ’åºç®¡é“ç­‰
- **è£…é¥°å™¨**: 30+ ä¸ªè‡ªå®šä¹‰è£…é¥°å™¨æ”¯æŒä¼ä¸šçº§åŠŸèƒ½

## ğŸ“ é¡¹ç›®ç»“æ„

```
nest_tv/
â”œâ”€â”€ backend/                    # åç«¯ NestJS é¡¹ç›®
â”‚   â”œâ”€â”€ src/
â”‚   â”‚   â”œâ”€â”€ entities/          # æ•°æ®åº“å®ä½“
â”‚   â”‚   â”‚   â”œâ”€â”€ user.entity.ts
â”‚   â”‚   â”‚   â”œâ”€â”€ media-resource.entity.ts
â”‚   â”‚   â”‚   â”œâ”€â”€ play-source.entity.ts
â”‚   â”‚   â”‚   â”œâ”€â”€ watch-history.entity.ts
â”‚   â”‚   â”‚   â””â”€â”€ ...
â”‚   â”‚   â”œâ”€â”€ auth/              # è®¤è¯æ¨¡å—
â”‚   â”‚   â”œâ”€â”€ users/             # ç”¨æˆ·æ¨¡å—
â”‚   â”‚   â”œâ”€â”€ media/              # åª’ä½“èµ„æºæ¨¡å—
â”‚   â”‚   â”œâ”€â”€ play-sources/       # æ’­æ”¾æºæ¨¡å—
â”‚   â”‚   â”œâ”€â”€ watch-history/      # è§‚çœ‹å†å²æ¨¡å—
â”‚   â”‚   â”œâ”€â”€ crawler/           # çˆ¬è™«æ¨¡å—
â”‚   â”‚   â”œâ”€â”€ recommendations/   # ä¸ªæ€§åŒ–æ¨èæ¨¡å—
â”‚   â”‚   â”œâ”€â”€ admin/             # åå°ç®¡ç†æ¨¡å—
â”‚   â”‚   â”œâ”€â”€ iptv/              # IPTV ç›´æ’­æ¨¡å—
â”‚   â”‚   â”œâ”€â”€ parse-providers/   # è§£ææä¾›å•†æ¨¡å—
â”‚   â”‚   â”œâ”€â”€ torrent/           # ç£åŠ›é“¾æ¥æ¨¡å—
â”‚   â”‚   â”œâ”€â”€ data-collection/    # æ•°æ®é‡‡é›†æ¨¡å—
â”‚   â”‚   â”œâ”€â”€ common/            # ä¼ä¸šçº§é€šç”¨æ¨¡å—
â”‚   â”‚   â”‚   â”œâ”€â”€ guards/           # å„ç§å®ˆå«
â”‚   â”‚   â”‚   â”œâ”€â”€ interceptors/     # å„ç§æ‹¦æˆªå™¨
â”‚   â”‚   â”‚   â”œâ”€â”€ middleware/       # å„ç§ä¸­é—´ä»¶
â”‚   â”‚   â”‚   â”œâ”€â”€ pipes/           # å„ç§ç®¡é“
â”‚   â”‚   â”‚   â”œâ”€â”€ decorators/      # å„ç§è£…é¥°å™¨
â”‚   â”‚   â”‚   â”œâ”€â”€ services/        # é€šç”¨æœåŠ¡
â”‚   â”‚   â”‚   â”œâ”€â”€ config/          # é…ç½®ç±»
â”‚   â”‚   â”‚   â””â”€â”€ common.module.ts
â”‚   â”‚   â”œâ”€â”€ app.module.ts     # ä¸»åº”ç”¨æ¨¡å—
â”‚   â”‚   â””â”€â”€ main.ts           # åº”ç”¨å…¥å£
â”‚   â”œâ”€â”€ docs/                  # æ•°æ®åº“è®¾è®¡æ–‡æ¡£
â”‚   â”œâ”€â”€ tsconfig.json          # TypeScript é…ç½®
â”‚   â”œâ”€â”€ nest-cli.json         # NestJS CLI é…ç½®
â”‚   â””â”€â”€ package.json          # åç«¯ä¾èµ–é…ç½®
â”œâ”€â”€ frontend/                   # å‰ç«¯ Vue3 é¡¹ç›®
â”‚       â”œâ”€â”€ src/
â”‚       â”‚   â”œâ”€â”€ components/      # Vue ç»„ä»¶
â”‚       â”‚   â”‚   â”œâ”€â”€ AppLayout.vue         # ä¸»å¸ƒå±€ç»„ä»¶
â”‚       â”‚   â”‚   â”œâ”€â”€ AppErrorBoundary.vue  # é”™è¯¯è¾¹ç•Œç»„ä»¶
â”‚       â”‚   â”‚   â””â”€â”€ ...                 # å…¶ä»–ä¸šåŠ¡ç»„ä»¶
â”‚       â”‚   â”œâ”€â”€ views/           # é¡µé¢è§†å›¾
â”‚       â”‚   â”‚   â”œâ”€â”€ HomeView.vue          # é¦–é¡µ
â”‚       â”‚   â”‚   â”œâ”€â”€ LoginView.vue         # ç™»å½•é¡µ
â”‚       â”‚   â”‚   â”œâ”€â”€ RegisterView.vue      # æ³¨å†Œé¡µ
â”‚       â”‚   â”‚   â”œâ”€â”€ MediaDetailView.vue   # å½±è§†è¯¦æƒ…é¡µ
â”‚       â”‚   â”‚   â”œâ”€â”€ WatchView.vue         # æ’­æ”¾é¡µ
â”‚       â”‚   â”‚   â””â”€â”€ ...                     # å…¶ä»–é¡µé¢
â”‚       â”‚   â”œâ”€â”€ stores/          # Pinia çŠ¶æ€ç®¡ç†
â”‚       â”‚   â”‚   â”œâ”€â”€ auth.ts              # è®¤è¯çŠ¶æ€
â”‚       â”‚   â”‚   â””â”€â”€ media.ts             # åª’ä½“çŠ¶æ€
â”‚       â”‚   â”œâ”€â”€ router/          # Vue Router è·¯ç”±
â”‚       â”‚   â”œâ”€â”€ i18n/           # å›½é™…åŒ–é…ç½®
â”‚       â”‚   â”‚   â”œâ”€â”€ locales/           # è¯­è¨€åŒ…
â”‚       â”‚   â”‚   â”‚   â”œâ”€â”€ zh-CN.ts        # ä¸­æ–‡
â”‚       â”‚   â”‚   â”‚   â””â”€â”€ en.ts           # è‹±æ–‡
â”‚       â”‚   â”‚   â”œâ”€â”€ i18n.ts           # i18n é…ç½®
â”‚       â”‚   â”‚   â””â”€â”€ ...
â”‚       â”‚   â”œâ”€â”€ utils/           # å·¥å…·å‡½æ•°
â”‚       â”‚   â”œâ”€â”€ api/             # API å®¢æˆ·ç«¯
â”‚       â”‚   â”œâ”€â”€ App.vue          # æ ¹ç»„ä»¶
â”‚       â”‚   â””â”€â”€ main.ts          # åº”ç”¨å…¥å£
â”‚       â”œâ”€â”€ public/              # é™æ€èµ„æº
â”‚       â”œâ”€â”€ uno.config.ts        # UnoCSS é…ç½®
â”‚       â”œâ”€â”€ vite.config.ts       # Vite é…ç½®
â”‚       â”œâ”€â”€ tsconfig.json        # TypeScript é…ç½®
â”‚       â””â”€â”€ package.json         # å‰ç«¯ä¾èµ–é…ç½®
â”œâ”€â”€ docs/                       # é¡¹ç›®æ–‡æ¡£
â”‚   â”œâ”€â”€ database-schema.md   # æ•°æ®åº“è®¾è®¡æ–‡æ¡£
â”‚   â””â”€â”€ api-guide.md         # API æ¥å£æ–‡æ¡£
â”œâ”€â”€ database-init.sql           # æ•°æ®åº“åˆå§‹åŒ–è„šæœ¬
â””â”€â”€ README.md                   # é¡¹ç›®è¯´æ˜æ–‡æ¡£
```

## ğŸ› ï¸ å¼€å‘ç¯å¢ƒè¦æ±‚

### ç³»ç»Ÿè¦æ±‚
- Node.js >= 18.0.0
- MySQL >= 8.0.0
- Redis >= 6.0.0
- npm >= 8.0.0

### å¼€å‘å·¥å…·ï¼ˆæ¨èï¼‰
- VS Code
- Git
- MySQL Workbench æˆ– DBeaver
- Redis Desktop Manager

## ğŸš€ å¿«é€Ÿå¼€å§‹

### 1. å…‹éš†é¡¹ç›®
```bash
git clone https://github.com/your-org/nest-tv.git
cd nest-tv
```

### 2. ç¯å¢ƒé…ç½®
å¤åˆ¶å¹¶é…ç½®ç¯å¢ƒå˜é‡æ–‡ä»¶ï¼š
```bash
# åç«¯é…ç½®
cp backend/.env.example backend/.env

# ç¼–è¾‘ç¯å¢ƒå˜é‡
# ä¸»è¦é…ç½®é¡¹ï¼š
# DB_HOST=localhost
# DB_PORT=3306
# DB_USERNAME=root
# DB_PASSWORD=your_password
# DB_DATABASE=nest_tv
# REDIS_HOST=localhost
# REDIS_PORT=6379
# JWT_SECRET=your-super-secret-jwt-key
# PORT=3333
# NODE_ENV=development
```

### 3. æ•°æ®åº“åˆå§‹åŒ–
ç¡®ä¿ MySQL å’Œ Redis æœåŠ¡å·²å¯åŠ¨ï¼Œç„¶åï¼š
```bash
# åˆ›å»ºæ•°æ®åº“ï¼ˆå¦‚æœä¸å­˜åœ¨ï¼‰
mysql -u root -p -e "CREATE DATABASE IF NOT EXISTS nest_tv CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci;"

# å¯åŠ¨åç«¯é¡¹ç›®ï¼ˆä¼šè‡ªåŠ¨åˆ›å»ºè¡¨ç»“æ„ï¼‰
cd backend
npm install
npm run start:dev
```

### 4. å¯åŠ¨å‰ç«¯é¡¹ç›®
```bash
cd frontend
npm install
npm run dev
```

### 5. è®¿é—®åº”ç”¨
- åç«¯ API: http://localhost:3333
- å‰ç«¯ç•Œé¢: http://localhost:5173
- API æ–‡æ¡£: http://localhost:3333/api

## ğŸ“‹ API æ¥å£æ¦‚è§ˆ

### è®¤è¯æ¥å£
```bash
# ç”¨æˆ·æ³¨å†Œ
POST /auth/register
Content-Type: application/json

{
  "username": "testuser",
  "password": "password123",
  "email": "test@example.com",
  "nickname": "æµ‹è¯•ç”¨æˆ·"
}

# ç”¨æˆ·ç™»å½•
POST /auth/login
Content-Type: application/json

{
  "username": "testuser",
  "password": "password123"
}

# è·å–ç”¨æˆ·ä¿¡æ¯ï¼ˆéœ€è¦JWTï¼‰
GET /auth/profile
Authorization: Bearer <JWT_TOKEN>
```

### å½±è§†èµ„æºæ¥å£
```bash
# è·å–å½±è§†èµ„æºåˆ—è¡¨
GET /media?page=1&pageSize=10

# è·å–å½±è§†èµ„æºè¯¦æƒ…
GET /media/:id

# æœç´¢å½±è§†èµ„æº
GET /media/search?q=å…³é”®è¯

# è·å–åˆ†ç±»èµ„æº
GET /media/category/:category
```

### æ’­æ”¾æºæ¥å£
```bash
# è·å–å½±è§†èµ„æºçš„æ’­æ”¾æºåˆ—è¡¨
GET /play-sources/media/:mediaId

# è·å–æœ€ä½³æ’­æ”¾æº
GET /play-sources/media/:mediaId/best

# æ·»åŠ æ’­æ”¾æº
POST /play-sources
Authorization: Bearer <JWT_TOKEN>
Content-Type: application/json

{
  "mediaResourceId": 1,
  "type": "online",
  "url": "https://example.com/play/123",
  "resolution": "1080p",
  "priority": 1
}
```

### è§‚çœ‹å†å²æ¥å£
```bash
# è·å–ç”¨æˆ·çš„è§‚çœ‹å†å²
GET /watch-history?page=1&pageSize=10

# è·å–ç»§ç»­è§‚çœ‹åˆ—è¡¨
GET /watch-history/continue

# æ›´æ–°è§‚çœ‹è¿›åº¦
PATCH /watch-history/progress
Authorization: Bearer <JWT_TOKEN>
Content-Type: application/json

{
  "mediaResourceId": 1,
  "currentTime": 300,
  "duration": 3600
}
```

### çˆ¬è™«æ¥å£
```bash
# è·å–å¯ç”¨çš„çˆ¬è™«ç›®æ ‡
GET /crawler/targets

# å¯åŠ¨çˆ¬è™«
POST /crawler/start
Authorization: Bearer <JWT_TOKEN>
Content-Type: application/json

{
  "targetName": "ç”µå½±å¤©å ‚",
  "url": "https://example.com/movie/123"
}
```

### ä¸ªæ€§åŒ–æ¨èæ¥å£
```bash
# è·å–ç”¨æˆ·çš„ä¸ªæ€§åŒ–æ¨è
GET /recommendations/personalized?limit=10

# è·å–çƒ­é—¨æ¨è
GET /recommendations/trending?limit=10

# è·å–ç›¸ä¼¼æ¨è
GET /recommendations/similar/:mediaId
```

## ğŸ—„ï¸ æ•°æ®åº“è®¾è®¡

### æ ¸å¿ƒè¡¨ç»“æ„
- **users** - ç”¨æˆ·ä¿¡æ¯è¡¨
- **media_resources** - å½±è§†èµ„æºè¡¨
- **play_sources** - æ’­æ”¾æºè¡¨
- **watch_history** - è§‚çœ‹å†å²è¡¨
- **recommendations** - ä¸ªæ€§åŒ–æ¨èè¡¨
- **admin_roles** - ç®¡ç†å‘˜è§’è‰²è¡¨
- **admin_permissions** - ç®¡ç†å‘˜æƒé™è¡¨
- **admin_logs** - ç®¡ç†å‘˜æ“ä½œæ—¥å¿—è¡¨

### è¡¨å…³ç³»è¯´æ˜
- ä¸€ä¸ªç”¨æˆ·å¯ä»¥æ”¶è—å¤šä¸ªå½±è§†èµ„æºï¼ˆå¤šå¯¹å¤šï¼‰
- ä¸€ä¸ªå½±è§†èµ„æºå¯ä»¥æœ‰å¤šä¸ªæ’­æ”¾æºï¼ˆä¸€å¯¹å¤šï¼‰
- ä¸€ä¸ªç”¨æˆ·å¯ä»¥æœ‰å¤šæ¡è§‚çœ‹å†å²ï¼ˆä¸€å¯¹å¤šï¼‰
- ä¸€ä¸ªç”¨æˆ·å¯ä»¥æœ‰å¤šæ¡æ¨èè®°å½•ï¼ˆä¸€å¯¹å¤šï¼‰
- ä¸€ä¸ªå½±è§†èµ„æºå¯ä»¥å‡ºç°åœ¨å¤šæ¡æ¨èè®°å½•ä¸­ï¼ˆä¸€å¯¹å¤šï¼‰

è¯¦ç»†è®¾è®¡è¯·å‚è€ƒï¼š[æ•°æ®åº“è®¾è®¡æ–‡æ¡£](./docs/database-schema.md)

## ğŸ¯ å¼€å‘è®¡åˆ’

### é˜¶æ®µä¸€ï¼šåŸºç¡€æ¶æ„ âœ…
- [x] é¡¹ç›®åˆå§‹åŒ–å’Œç»“æ„æ­å»º
- [x] æ•°æ®åº“è®¾è®¡å’Œå®ä½“åˆ›å»º
- [x] ç”¨æˆ·è®¤è¯æ¨¡å—å¼€å‘
- [x] å‰åç«¯åˆ†ç¦»é…ç½®
- [x] Rediså’ŒMySQLè¿æ¥é…ç½®

### é˜¶æ®µäºŒï¼šæ ¸å¿ƒåŠŸèƒ½ âœ…
- [x] å½±è§†èµ„æºçˆ¬è™«å¼€å‘ âœ…
- [x] å½±è§†èµ„æºæ¨¡å—å¼€å‘ âœ…
- [x] æ’­æ”¾æºæ¨¡å—å¼€å‘ âœ…
- [x] å‰ç«¯é¡µé¢å¼€å‘ âœ…
- [x] ç”¨æˆ·ç•Œé¢å®ç° âœ…
- [x] APIæ¥å£å®Œå–„ âœ…

### é˜¶æ®µä¸‰ï¼šé«˜çº§åŠŸèƒ½ âœ…
- [x] è§‚çœ‹å†å²å’Œè¿›åº¦ç®¡ç† âœ…
- [x] ä¸ªæ€§åŒ–æ¨èç³»ç»Ÿ âœ…
- [x] åå°ç®¡ç†ç³»ç»Ÿ âœ…
- [x] å›½é™…åŒ–æ”¯æŒ âœ…
- [x] ä¼ä¸šçº§å®‰å…¨ç»„ä»¶ âœ…
- [x] å®Œæ•´çš„æ—¥å¿—å’Œç›‘æ§ âœ…
- [x] APIæ–‡æ¡£å®Œå–„ âœ…

### é˜¶æ®µå››ï¼šä¼˜åŒ–å’Œéƒ¨ç½²
- [ ] æ€§èƒ½ä¼˜åŒ–å’Œå‹åŠ›æµ‹è¯•
- [ ] å®‰å…¨åŠ å›ºå’Œæ¼æ´æ‰«æ
- [ ] å•å…ƒæµ‹è¯•å’Œé›†æˆæµ‹è¯•è¦†ç›–
- [ ] å®¹å™¨åŒ–éƒ¨ç½²å’ŒCI/CD
- [ ] ç”Ÿäº§ç¯å¢ƒé…ç½®å’Œç›‘æ§

## ğŸ§ª æµ‹è¯•æŒ‡å—

### åç«¯æµ‹è¯•
```bash
# å•å…ƒæµ‹è¯•
cd backend
npm run test

# ç«¯åˆ°ç«¯æµ‹è¯•
npm run test:e2e

# ä»£ç è¦†ç›–ç‡
npm run test:cov

# ç±»å‹æ£€æŸ¥
npm run type-check
```

### å‰ç«¯æµ‹è¯•
```bash
# å•å…ƒæµ‹è¯•
cd frontend
npm run test

# ç«¯åˆ°ç«¯æµ‹è¯•
npm run test:e2e

# ç±»å‹æ£€æŸ¥
npm run type-check
```

### æ€§èƒ½æµ‹è¯•
```bash
# åç«¯æ€§èƒ½æµ‹è¯•
cd backend
npm run test:performance

# å‰ç«¯æ€§èƒ½æµ‹è¯•
cd frontend
npm run test:performance
```

## ğŸ› æ•…éšœæ’é™¤

### å¸¸è§é—®é¢˜

#### 1. æ•°æ®åº“è¿æ¥å¤±è´¥
```bash
# æ£€æŸ¥MySQLæœåŠ¡æ˜¯å¦å¯åŠ¨
systemctl status mysql

# æ£€æŸ¥æ•°æ®åº“è¿æ¥ä¿¡æ¯
mysql -u root -p -h localhost -e "SHOW DATABASES;"

# æ£€æŸ¥.envæ–‡ä»¶é…ç½®
cat backend/.env
```

#### 2. Redisè¿æ¥å¤±è´¥
```bash
# æ£€æŸ¥RedisæœåŠ¡æ˜¯å¦å¯åŠ¨
redis-cli ping

# æ£€æŸ¥Redisè¿æ¥é…ç½®
redis-cli -h localhost -p 6379 info
```

#### 3. åç«¯ç¼–è¯‘é”™è¯¯
```bash
# æ¸…ç†ä¾èµ–å¹¶é‡æ–°å®‰è£…
cd backend
rm -rf node_modules package-lock.json
npm install

# æ£€æŸ¥TypeScripté…ç½®
npx tsc --noEmit
```

#### 4. å‰ç«¯å¯åŠ¨å¤±è´¥
```bash
# æ¸…ç†ä¾èµ–å¹¶é‡æ–°å®‰è£…
cd frontend
rm -rf node_modules package-lock.json
npm install

# æ£€æŸ¥Viteé…ç½®
npm run build
```

#### 5. ç¯å¢ƒå˜é‡é…ç½®é—®é¢˜
```bash
# æ£€æŸ¥å¿…éœ€çš„ç¯å¢ƒå˜é‡
# åç«¯ï¼šDB_HOST, DB_PORT, DB_USERNAME, DB_PASSWORD, DB_DATABASE, REDIS_HOST, REDIS_PORT, JWT_SECRET, PORT
# å‰ç«¯ï¼šVITE_API_BASE_URL

# åˆ›å»ºç¯å¢ƒå˜é‡ç¤ºä¾‹æ–‡ä»¶
echo "DB_HOST=localhost
DB_PORT=3306
DB_USERNAME=root
DB_PASSWORD=your_password
DB_DATABASE=nest_tv
REDIS_HOST=localhost
REDIS_PORT=6379
JWT_SECRET=your-super-secret-jwt-key
PORT=3333
NODE_ENV=development" > backend/.env

echo "VITE_API_BASE_URL=http://localhost:3333
VITE_APP_TITLE=NestTV" > frontend/.env
```

## ğŸ¤ è´¡çŒ®æŒ‡å—

æˆ‘ä»¬æ¬¢è¿ç¤¾åŒºè´¡çŒ®ï¼è¯·æŒ‰ç…§ä»¥ä¸‹æ­¥éª¤ï¼š

1. Fork æœ¬ä»“åº“
2. åˆ›å»ºåŠŸèƒ½åˆ†æ”¯ (`git checkout -b feature/AmazingFeature`)
3. æäº¤æ›´æ”¹ (`git commit -m 'feat: Add some AmazingFeature'`)
4. æ¨é€åˆ°åˆ†æ”¯ (`git push origin feature/AmazingFeature`)
5. åˆ›å»º Pull Request

### å¼€å‘è§„èŒƒ
- éµå¾ª TypeScript ä¸¥æ ¼æ¨¡å¼
- ç¼–å†™æ¸…æ™°çš„æ³¨é‡Šå’Œæ–‡æ¡£
- æäº¤ä¿¡æ¯æ ¼å¼ï¼š`ç±»å‹(èŒƒå›´): ç®€çŸ­æè¿°`
  - feat: æ–°åŠŸèƒ½
  - fix: ä¿®å¤bug
  - docs: æ–‡æ¡£æ›´æ–°
  - style: ä»£ç æ ¼å¼åŒ–
  - refactor: ä»£ç é‡æ„
  - test: æµ‹è¯•ç›¸å…³
  - chore: æ„å»ºå·¥å…·æˆ–ä¾èµ–ç®¡ç†
- ä»£ç æäº¤å‰å¿…é¡»é€šè¿‡ lint æ£€æŸ¥
- éµå¾ª ESLint å’Œ Prettier è§„èŒƒ

### ä»£ç è§„èŒƒ
- ä½¿ç”¨ TypeScript ç¼–å†™ç±»å‹å®‰å…¨çš„ä»£ç 
- å‡½æ•°å’Œç±»éœ€è¦æœ‰æ¸…æ™°çš„ JSDoc æ³¨é‡Š
- ä½¿ç”¨æœ‰æ„ä¹‰çš„å˜é‡åå’Œå‡½æ•°å
- éµå¾ªå•ä¸€èŒè´£åŸåˆ™
- é¿å…å…¨å±€å˜é‡ï¼Œä½¿ç”¨æ¨¡å—åŒ–

## ğŸ“„ è®¸å¯è¯

æœ¬é¡¹ç›®é‡‡ç”¨ MIT è®¸å¯è¯ - æŸ¥çœ‹ [LICENSE](LICENSE) æ–‡ä»¶äº†è§£è¯¦æƒ…

## ğŸ“ è”ç³»æ–¹å¼

- é¡¹ç›®ä½œè€…ï¼š@jxwd
- é¡¹ç›®åœ°å€ï¼š[GitHub Repository](https://github.com/your-org/nest-tv)
- é—®é¢˜åé¦ˆï¼š[GitHub Issues](https://github.com/your-org/nest-tv/issues)
- é‚®ç®±ï¼šsupport@nest-tv.com

---

## ğŸŒŸ é¡¹ç›®ç‰¹æ€§äº®ç‚¹

### ğŸ”¥ æŠ€æœ¯äº®ç‚¹
- **ç°ä»£åŒ–æŠ€æœ¯æ ˆ**: ä½¿ç”¨æœ€æ–°çš„ NestJS 11ã€Vue 3ã€TypeScript 5
- **ä¼ä¸šçº§æ¶æ„**: å®Œæ•´çš„ä¸­é—´ä»¶ã€ç®¡é“ã€å®ˆå«ã€è£…é¥°å™¨ä½“ç³»
- **é«˜å®‰å…¨æ€§**: JWTè®¤è¯ã€æƒé™æ§åˆ¶ã€XSSé˜²æŠ¤ã€CSRFé˜²æŠ¤ã€CSPç­–ç•¥
- **é«˜æ€§èƒ½**: Redisç¼“å­˜ã€æ•°æ®åº“ä¼˜åŒ–ã€å“åº”å¼è®¾è®¡
- **å›½é™…åŒ–**: å®Œæ•´çš„ä¸­è‹±æ–‡æ”¯æŒå’Œå¤šè¯­è¨€æ‰©å±•æ¶æ„
- **å¯ç›‘æ§**: Winstonæ—¥å¿—è®°å½•ã€æ€§èƒ½ç›‘æ§ã€é”™è¯¯è¿½è¸ª
- **æ˜“ç»´æŠ¤**: æ¨¡å—åŒ–è®¾è®¡ã€æ¸…æ™°çš„ä»£ç ç»“æ„ã€å®Œæ•´çš„æ–‡æ¡£

### ğŸš€ åŠŸèƒ½äº®ç‚¹
- **å®Œæ•´çš„ç”¨æˆ·ç³»ç»Ÿ**: æ³¨å†Œã€ç™»å½•ã€æƒé™ç®¡ç†ã€ä¸ªäººè®¾ç½®
- **ä¸°å¯Œçš„åª’ä½“ç®¡ç†**: çˆ¬è™«ã€åˆ†ç±»ã€æœç´¢ã€æ’­æ”¾æºç®¡ç†
- **æ™ºèƒ½æ¨è**: ä¸ªæ€§åŒ–æ¨èã€çƒ­é—¨æ¨èã€ç›¸ä¼¼æ¨è
- **ä¼˜ç§€çš„ç”¨æˆ·ä½“éªŒ**: å“åº”å¼è®¾è®¡ã€å›½é™…åŒ–ã€æ— éšœç¢è®¿é—®
- **å¼ºå¤§çš„åå°ç®¡ç†**: ç”¨æˆ·ç®¡ç†ã€å†…å®¹ç®¡ç†ã€æ—¥å¿—ç®¡ç†ã€ç³»ç»Ÿé…ç½®

### ğŸ“Š è´¨é‡ä¿è¯
- **ä»£ç è´¨é‡**: TypeScriptä¸¥æ ¼æ¨¡å¼ã€ESLintä»£ç æ£€æŸ¥ã€å•å…ƒæµ‹è¯•
- **æ€§èƒ½ä¼˜åŒ–**: ç¼“å­˜ç­–ç•¥ã€æ•°æ®åº“ç´¢å¼•ã€å“åº”å¼è®¾è®¡
- **å®‰å…¨æ€§**: å¤šå±‚å®‰å…¨é˜²æŠ¤ã€è¾“å…¥éªŒè¯ã€SQLæ³¨å…¥é˜²æŠ¤
- **ç¨³å®šæ€§**: å¼‚å¸¸å¤„ç†ã€é”™è¯¯æ¢å¤ã€å¥åº·æ£€æŸ¥

---

## ğŸŒŸ Star History

å¦‚æœè¿™ä¸ªé¡¹ç›®å¯¹æ‚¨æœ‰å¸®åŠ©ï¼Œè¯·ç»™å®ƒä¸€ä¸ª â­ï¸ï¼æ‚¨çš„æ”¯æŒæ˜¯æˆ‘ä»¬å‰è¿›çš„åŠ¨åŠ›ï¼

[![Star History Chart](https://api.star-history.com/svg?repos=your-org/nest-tv&type=Date)]

---

*æœ€åæ›´æ–°æ—¶é—´ï¼š2024å¹´1æœˆ15æ—¥*
*é¡¹ç›®ç‰ˆæœ¬ï¼šv1.0.0*
*ç»´æŠ¤çŠ¶æ€ï¼šç§¯æç»´æŠ¤ä¸­*